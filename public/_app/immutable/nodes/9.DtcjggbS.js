import"../chunks/CWj6FrbW.js";import{i as S}from"../chunks/CCVlYhmH.js";import{p as j,b as m,t as k,g as r,l as A,a as p,d as B,s as t,h as o,m as n,e as l,r as i,n as L,i as C,f as G}from"../chunks/DywqVBIy.js";import{i as D}from"../chunks/ASrwIIbz.js";import{r as q}from"../chunks/y8QnOz8S.js";import{b as F}from"../chunks/BUqQ10_7.js";import{p as H}from"../chunks/CWmzcjye.js";import{s as J}from"../chunks/BHeDoN2z.js";import{g as K}from"../chunks/JbcUVXmK.js";import{L as N}from"../chunks/CsbSaeic.js";var O=m('<div class="text-red-500 text-sm"> </div>'),Q=m('<!> <span class="ml-2">Logging in...</span>',1),T=m("<span>Log In</span>"),U=m(`<div class="max-w-md mx-auto mt-16 p-6 bg-white rounded-lg shadow-md"><h1 class="text-2xl font-bold text-purple-900 mb-6">Welcome back to DreamScape</h1> <form class="space-y-4"><!> <div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input type="email" id="email" required class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input type="password" id="password" required class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed"/></div> <button type="submit" class="w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50"><!></button> <div class="flex flex-col space-y-2 text-center text-sm"><a href="/auth/signup" class="text-purple-600 hover:text-purple-500">Don't have an account? Register here</a> <a href="/auth/reset-password" class="text-purple-600 hover:text-purple-500">Forgot your password?</a></div></form></div>`);function oa(I,P){j(P,!1);let u=n(""),f=n(""),s=n(!1),d=n("");async function W(){try{o(s,!0),o(d,"");const{data:a,error:e}=await J.auth.signInWithPassword({email:r(u),password:r(f)});if(e)throw e;await K("/dashboard")}catch(a){o(d,a.message||"Failed to login"),console.error("Login error:",a)}finally{o(s,!1)}}S();var c=U(),b=t(l(c),2),_=l(b);{var z=a=>{var e=O(),y=l(e,!0);i(e),k(()=>C(y,r(d))),p(a,e)};D(_,a=>{r(d)&&a(z)})}var v=t(_,2),g=t(l(v),2);q(g),i(v);var x=t(v,2),h=t(l(x),2);q(h),i(x);var w=t(x,2),E=l(w);{var M=a=>{var e=Q(),y=G(e);N(y,{class:"inline animate-spin",size:20}),L(2),p(a,e)},R=a=>{var e=T();p(a,e)};D(E,a=>{r(s)?a(M):a(R,!1)})}i(w),L(2),i(b),i(c),k(()=>{g.disabled=r(s),h.disabled=r(s),w.disabled=r(s)}),F(g,()=>r(u),a=>o(u,a)),F(h,()=>r(f),a=>o(f,a)),A("submit",b,H(W)),p(I,c),B()}export{oa as component};
