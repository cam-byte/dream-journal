import"../chunks/CWj6FrbW.js";import{i as F}from"../chunks/CCVlYhmH.js";import{p as G,b as k,t as S,g as a,l as H,a as m,d as I,s as t,h as o,m as p,e as s,r as i,n as A,i as J,f as K,o as M}from"../chunks/DywqVBIy.js";import{i as D}from"../chunks/ASrwIIbz.js";import{r as w}from"../chunks/y8QnOz8S.js";import{b as _}from"../chunks/BUqQ10_7.js";import{p as N}from"../chunks/CWmzcjye.js";import{s as O}from"../chunks/BHeDoN2z.js";import{g as Q}from"../chunks/CBVvHBor.js";import{L as V}from"../chunks/CsbSaeic.js";var W=k('<div class="text-red-500 text-sm"> </div>'),X=k("<!> Creating account...",1),Y=k('<div class="max-w-md mx-auto mt-16 p-6 bg-white rounded-lg shadow-md"><h1 class="text-2xl font-bold text-purple-900 mb-6">Create your DreamScape Account</h1> <form class="space-y-4"><div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input type="email" id="email" required class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input type="password" id="password" required minlength="6" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500"/></div> <div><label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm Password</label> <input type="password" id="confirm-password" required minlength="6" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500"/></div> <!> <button type="submit" class="w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50"><!></button></form> <p class="mt-4 text-center text-sm text-gray-600">Already have an account? <a href="/auth/login" class="text-purple-600 hover:text-purple-500">Log in</a></p></div>');function pr(E,U){G(U,!1);let u=p(""),d=p(""),f=p(""),n=p(!1),l=p("");async function z(){if(a(d)!==a(f)){o(l,"Passwords do not match");return}o(n,!0),o(l,"");try{const{data:r,error:e}=await O.auth.signUp({email:a(u),password:a(d),options:{emailRedirectTo:`${location.origin}/auth/callback`}});if(e)throw e;r&&Q("/auth/verify-email")}catch(r){o(l,r.message)}finally{o(n,!1)}}F();var c=Y(),v=t(s(c),2),b=s(v),P=t(s(b),2);w(P),i(b);var g=t(b,2),q=t(s(g),2);w(q),i(g);var x=t(g,2),C=t(s(x),2);w(C),i(x);var L=t(x,2);{var R=r=>{var e=W(),y=s(e,!0);i(e),S(()=>J(y,a(l))),m(r,e)};D(L,r=>{a(l)&&r(R)})}var h=t(L,2),T=s(h);{var j=r=>{var e=X(),y=K(e);V(y,{class:"inline animate-spin",size:20}),A(),m(r,e)},B=r=>{var e=M("Sign Up");m(r,e)};D(T,r=>{a(n)?r(j):r(B,!1)})}i(h),i(v),A(2),i(c),S(()=>h.disabled=a(n)),_(P,()=>a(u),r=>o(u,r)),_(q,()=>a(d),r=>o(d,r)),_(C,()=>a(f),r=>o(f,r)),H("submit",v,N(z)),m(E,c),I()}export{pr as component};
