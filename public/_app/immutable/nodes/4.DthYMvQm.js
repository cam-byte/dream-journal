import"../chunks/CWj6FrbW.js";import{i as oe}from"../chunks/CCVlYhmH.js";import{o as le}from"../chunks/CxfMjxZB.js";import{c as Q,f as R,a as o,p as ie,N as ne,O as de,b as p,g as e,d as pe,e as s,s as u,h as g,m as h,r as a,n as F,t as P,i as y,L as d}from"../chunks/DywqVBIy.js";import{i as N}from"../chunks/ASrwIIbz.js";import{r as ce,e as ve,s as fe,i as me}from"../chunks/y8QnOz8S.js";import{b as ue}from"../chunks/BUqQ10_7.js";import{s as _e}from"../chunks/BHeDoN2z.js";import{I as xe,s as ge}from"../chunks/B2UO5zuC.js";import{l as he,s as ye}from"../chunks/Y82m_CnN.js";import{M as G}from"../chunks/FLBswei7.js";function be($,b){const c=he(b,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];xe($,ye({name:"search"},()=>c,{get iconNode(){return _},children:(w,L)=>{var i=Q(),z=R(i);ge(z,b,"default",{}),o(w,i)},$$slots:{default:!0}}))}var we=p('<div class="text-center py-12"><!> <p>Loading dreams...</p></div>'),Le=p('<div class="text-red-500 text-center py-12"> </div>'),De=p('<div class="text-center py-12"><!> <h2 class="text-xl font-semibold text-gray-600">No dreams found</h2> <p class="text-gray-500 mt-2">Try adjusting your search or add a new dream!</p></div>'),Ne=p('<span class="px-2 py-1 bg-purple-100 text-purple-700 rounded-full"> </span>'),$e=p('<a class="block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6"><h2 class="text-xl font-semibold text-purple-900 mb-2"> </h2> <p class="text-gray-600 mb-4 line-clamp-3"> </p> <div class="flex justify-between items-center text-sm text-gray-500"><span> </span> <!></div></a>'),ze=p('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Ce=p('<div class="container mx-auto px-4 py-8"><div class="flex justify-between items-center mb-8 mt-8"><h1 class="text-3xl font-bold text-purple-900">My Dream Journal</h1> <a href="/dreams/new" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">Record New Dream</a></div> <div class="mb-8"><div class="relative"><!> <input type="text" placeholder="Search your dreams..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-purple-500"/></div></div> <!></div>');function Te($,b){ie(b,!1);const c=h();let _=h([]),w=h(!0),L=h(""),i=h("");async function z(){try{const{data:t,error:l}=await _e.from("dreams").select("*").order("created_at",{ascending:!1});if(l)throw l;g(_,t)}catch(t){g(L,t.message)}finally{g(w,!1)}}le(()=>{z()}),ne(()=>(e(_),e(i)),()=>{g(c,e(_).filter(t=>t.title.toLowerCase().includes(e(i).toLowerCase())||t.description.toLowerCase().includes(e(i).toLowerCase())))}),de(),oe();var C=Ce(),M=u(s(C),2),T=s(M),q=s(T);be(q,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20});var A=u(q,2);ce(A),a(T),a(M);var H=u(M,2);{var K=t=>{var l=we(),j=s(l);G(j,{class:"mx-auto text-purple-300 animate-pulse mb-4",size:48}),F(2),a(l),o(t,l)},U=t=>{var l=Q(),j=R(l);{var V=v=>{var f=Le(),k=s(f,!0);a(f),P(()=>y(k,e(L))),o(v,f)},W=v=>{var f=Q(),k=R(f);{var X=m=>{var n=De(),S=s(n);G(S,{class:"mx-auto text-purple-300 mb-4",size:48}),F(4),a(n),o(m,n)},Y=m=>{var n=ze();ve(n,5,()=>e(c),me,(S,r)=>{var D=$e(),I=s(D),Z=s(I,!0);a(I);var E=u(I,2),ee=s(E,!0);a(E);var B=u(E,2),J=s(B),te=s(J,!0);a(J);var ae=u(J,2);{var re=x=>{var O=Ne(),se=s(O,!0);a(O),P(()=>y(se,(e(r),d(()=>e(r).mood)))),o(x,O)};N(ae,x=>{e(r),d(()=>e(r).mood)&&x(re)})}a(B),a(D),P(x=>{fe(D,"href",`/dreams/${e(r),d(()=>e(r).id)??""}`),y(Z,(e(r),d(()=>e(r).title))),y(ee,(e(r),d(()=>e(r).description))),y(te,x)},[()=>(e(r),d(()=>new Date(e(r).created_at).toLocaleDateString()))]),o(S,D)}),a(n),o(m,n)};N(k,m=>{e(c),d(()=>e(c).length===0)?m(X):m(Y,!1)},!0)}o(v,f)};N(j,v=>{e(L)?v(V):v(W,!1)},!0)}o(t,l)};N(H,t=>{e(w)?t(K):t(U,!1)})}a(C),ue(A,()=>e(i),t=>g(i,t)),o($,C),pe()}export{Te as component};
