import"../chunks/CWj6FrbW.js";import{i as j}from"../chunks/CCVlYhmH.js";import{p as q,b as d,t as h,g as r,l as z,a as n,d as B,s as p,h as a,m as g,e as o,r as i,n as _,i as D,f as I}from"../chunks/DywqVBIy.js";import{i as w}from"../chunks/ASrwIIbz.js";import{r as T,a as Y}from"../chunks/y8QnOz8S.js";import{b as A}from"../chunks/BUqQ10_7.js";import{p as C}from"../chunks/CWmzcjye.js";import{s as G}from"../chunks/BHeDoN2z.js";import"../chunks/C_x8RpkU.js";import{L as H}from"../chunks/CsbSaeic.js";var J=d("<div> </div>"),K=d("<!> <span>Sending...</span>",1),M=d("<span>Send Reset Instructions</span>"),N=d(`<div class="max-w-md mx-auto mt-16 p-6 bg-white rounded-lg shadow-md"><h1 class="text-2xl font-bold text-purple-900 mb-6">Reset Your Password</h1> <p class="text-gray-600 mb-6">Enter your email address and we'll send you instructions to reset your password.</p> <form class="space-y-4"><div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input type="email" id="email" required class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-purple-500 focus:ring-purple-500" placeholder="Enter your email address"/></div> <!> <button type="submit" class="w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 flex items-center justify-center gap-2"><!></button> <div class="text-center mt-4"><a href="/auth/login" class="text-purple-600 hover:text-purple-500">Back to Login</a></div></form></div>`);function re(k,E){q(E,!1);let m=g(""),l=g(!1),s=g({text:"",type:""});async function P(){try{a(l,!0),a(s,{text:"",type:""});const{error:e}=await G.auth.resetPasswordForEmail(r(m),{redirectTo:`${location.origin}/auth/update-password`});if(e)throw e;a(s,{text:"Password reset instructions sent to your email!",type:"success"})}catch(e){a(s,{text:e.message||"Failed to send reset instructions",type:"error"})}finally{a(l,!1)}}j();var u=N(),c=p(o(u),4),f=o(c),x=p(o(f),2);T(x),i(f);var y=p(f,2);{var L=e=>{var t=J(),b=o(t,!0);i(t),h(()=>{Y(t,1,`p-4 rounded-md ${r(s).type==="error"?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`),D(b,r(s).text)}),n(e,t)};w(y,e=>{r(s).text&&e(L)})}var v=p(y,2),R=o(v);{var F=e=>{var t=K(),b=I(t);H(b,{class:"animate-spin",size:20}),_(2),n(e,t)},S=e=>{var t=M();n(e,t)};w(R,e=>{r(l)?e(F):e(S,!1)})}i(v),_(2),i(c),i(u),h(()=>v.disabled=r(l)),A(x,()=>r(m),e=>a(m,e)),z("submit",c,C(P)),n(k,u),B()}export{re as component};
